"use strict";(self.webpackChunkpurple_react_free=self.webpackChunkpurple_react_free||[]).push([[4464],{4464:function(e,s,l){l.r(s);l(5861);var a=l(885),c=(l(7757),l(2791)),r=l(4912),n=(l(6016),l(8687)),o=(l(4569),l(2930)),i=l(7266),t=l(3108),d=l(9271),m=l(7551),u=l(2443),h=l.n(u),x=l(184);s.default=function(){var e=(0,d.UO)().id,s=c.useState(new Date),l=(0,a.Z)(s,2),u=(l[0],l[1],c.useState()),j=(0,a.Z)(u,2),p=j[0],N=j[1],v=c.useState(),f=(0,a.Z)(v,2),b=f[0],g=f[1],Z=c.useState(null),y=(0,a.Z)(Z,2),w=y[0],C=y[1],S=c.useState(),k=(0,a.Z)(S,2),D=k[0],G=k[1],F=c.useState(),E=(0,a.Z)(F,2),B=E[0],_=E[1],R=c.useState(),T=(0,a.Z)(R,2),P=T[0],U=T[1],K=c.useState(),O=(0,a.Z)(K,2),V=O[0],q=O[1],$=c.useState(),A=(0,a.Z)($,2),H=A[0],I=A[1],Q=c.useState(),Y=(0,a.Z)(Q,2),z=(Y[0],Y[1],c.useState()),J=(0,a.Z)(z,2),L=J[0],M=J[1],W=c.useState(),X=(0,a.Z)(W,2),ee=X[0],se=X[1],le=c.useState(),ae=(0,a.Z)(le,2),ce=ae[0],re=ae[1],ne=c.useState(0),oe=(0,a.Z)(ne,2),ie=(oe[0],oe[1],(0,n.v9)((function(e){return e.brands}))),te=(0,i.v0)(t.Z),de=c.useState(),me=(0,a.Z)(de,2),ue=me[0],he=me[1],xe=c.useState(!0),je=(0,a.Z)(xe,2),pe=je[0],Ne=je[1],ve=c.useState(!1),fe=(0,a.Z)(ve,2),be=(fe[0],fe[1],(0,n.v9)((function(e){return e.deals}))),ge=c.useState(),Ze=(0,a.Z)(ge,2),ye=Ze[0],we=Ze[1],Ce=c.useState(),Se=(0,a.Z)(Ce,2),ke=Se[0],De=Se[1],Ge=c.useState(),Fe=(0,a.Z)(Ge,2),Ee=Fe[0],Be=Fe[1];c.useEffect((function(){if(be&&ie){var s=be.filter((function(s){return s.id==e}));N(s[0].name),g(s[0].conditions),C(s[0].code),G(s[0].discount),_(s[0].price),U(s[0].time),q(s[0].days),I(s[0].forr),M(ie.filter((function(e){return e.id==s[0].brand_id}))),re(s[0].type),he((0,o.cR)(new Date(s[0].till))),we("<p>"+s[0].days+"</p>"),De("<p>"+s[0].time+"</p>"),Be(s[0].description)}}),[be+ie]);return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"page-header",children:[(0,x.jsx)("h3",{className:"page-title",children:" Update Deals "}),(0,x.jsx)("nav",{"aria-label":"breadcrumb",children:(0,x.jsxs)("ol",{className:"breadcrumb",children:[(0,x.jsx)("li",{className:"breadcrumb-item",children:(0,x.jsx)("a",{href:"!#",onClick:function(e){return e.preventDefault()},children:"Deals"})}),(0,x.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Update"})]})})]}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-12 grid-margin",children:(0,x.jsx)("div",{className:"card",children:(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsx)("h4",{className:"card-title",children:"Information"}),(0,x.jsxs)("form",{className:"form-sample",children:[(0,x.jsx)("p",{className:"card-description",children:" Deals info "}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Title"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)(r.Z.Control,{value:p,onChange:function(e){return N(e.target.value)},type:"text"})})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Valid for"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)(r.Z.Control,{value:H,onChange:function(e){return I(e.target.value)},placeholder:"who can get it.",type:"text"})})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)(r.Z.Group,{className:"row",children:(0,x.jsxs)("div",{className:"col-sm-9",onChange:function(e){Ne(!pe)},children:[(0,x.jsx)("input",{value:!0,className:"form-check-input",type:"radio",checked:pe}),(0,x.jsx)("label",{style:{marginTop:"3px"},className:"form-check-label",children:"Promo Code"}),(0,x.jsx)("br",{}),(0,x.jsx)("input",{value:!1,className:"form-check-input",type:"radio",checked:!pe}),(0,x.jsx)("label",{style:{marginTop:"3px"},className:"form-check-label",children:"Request Button"})]})})}),pe?(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Code"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)(r.Z.Control,{value:w||"",onChange:function(e){return C(e.target.value)},placeholder:"6 digit code",type:"text"})})]})}):(0,x.jsx)(x.Fragment,{}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Conditions"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)(r.Z.Control,{value:b,onChange:function(e){return g(e.target.value)},placeholder:"type all your condition",type:"text"})})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Price"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)(r.Z.Control,{value:B,onChange:function(e){return _(e.target.value)},placeholder:"your price",type:"number"})})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"New Price"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)(r.Z.Control,{value:D,onChange:function(e){return G(e.target.value)},placeholder:"eg. New price here",type:"text"})})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Opening Days"}),(0,x.jsx)("div",{className:"col-sm-9",children:ye?(0,x.jsx)(m.CKEditor,{editor:h(),data:ye,onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,s){var l=s.getData();q(l.replace(/<\/?[^>]+(>|$)/g,""))},onBlur:function(e,s){},onFocus:function(e,s){}}):(0,x.jsx)(x.Fragment,{})})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Opening Times"}),(0,x.jsx)("div",{className:"col-sm-9",children:ke?(0,x.jsx)(m.CKEditor,{editor:h(),data:ke,onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,s){var l=s.getData();U(l.replace(/<\/?[^>]+(>|$)/g,""))},onBlur:function(e,s){},onFocus:function(e,s){}}):(0,x.jsx)(x.Fragment,{})})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Select Brand"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsxs)("select",{value:L?L[0].id:"",onChange:function(e){var s=ie.filter((function(s){return s.id==e.target.value}));M(s),console.log(s)},className:"form-control",children:[(0,x.jsx)("option",{value:"",children:"Select"}),ie?ie.map((function(e,s){return(0,x.jsx)("option",{value:e.id,children:e.name},s)})):(0,x.jsx)("option",{children:"No Brands"})]})})]})}),(0,x.jsx)("div",{className:"col-md-6"})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Valid till"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)(r.Z.Control,{value:ue,onChange:function(e){return he(e.target.value)},placeholder:"type of your deal",type:"date"})})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Description"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)(m.CKEditor,{editor:h(),data:Ee,onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,s){var l=s.getData();Be(l)},onBlur:function(e,s){},onFocus:function(e,s){}})})]})})]}),ee?(0,x.jsx)("div",{className:"alert alert-primary",role:"alert",children:ee}):(0,x.jsx)(x.Fragment,{})]}),(0,x.jsx)("button",{onClick:function(){p&&b&&P&&V&&H&&L&&ce&&ue?(se("Please wait..."),(0,o.qC)(o.HQ+"/updateData",{auth:te.currentUser,tableName:"deals",columns:["name","brand_id","brand","code","conditions","price","time","days","type","forr","till","discount","description"],values:[p,L[0].id,L[0].name,w,b,B||"",P,V,ce,H,ue,D||"",Ee||""],condition:"id="+e}).then((function(e){se("Files are saved. You can reload the page now."),setTimeout((function(){window.location.reload()}),500),console.log(e)}))):se("Fields can not be empty")},className:"btn btn-gradient-secondary btn-rounded btn-fw",children:"SAVE"})]})})})})]})}}}]);
//# sourceMappingURL=4464.28303c87.chunk.js.map