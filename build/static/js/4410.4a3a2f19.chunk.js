/*! For license information please see 4410.4a3a2f19.chunk.js.LICENSE.txt */
(self.webpackChunkpurple_react_free=self.webpackChunkpurple_react_free||[]).push([[4410],{4410:function(e,l,a){"use strict";a.r(l);var n=a(5861),r=a(885),s=a(7757),c=a.n(s),t=a(2791),i=a(4912),o=(a(6016),a(2930)),d=a(3108),u=a(7266),m=a(8687),h=a(4569),f=a.n(h),v=a(184);l.default=function(){var e=t.useState(null),l=(0,r.Z)(e,2),a=(l[0],l[1]),s=t.useState(!1),h=(0,r.Z)(s,2),x=h[0],j=h[1],N=(0,m.v9)((function(e){return e.banner})),p=(0,u.v0)(d.Z),b=t.useState(),g=(0,r.Z)(b,2),S=g[0],C=g[1],w=t.useState(),y=(0,r.Z)(w,2),E=y[0],A=y[1],I=t.useState(),L=(0,r.Z)(I,2),F=L[0],Z=L[1],O=t.useState(),T=(0,r.Z)(O,2),U=T[0],R=T[1],q=t.useState(),M=(0,r.Z)(q,2),k=M[0],D=M[1],B=t.useState(),G=(0,r.Z)(B,2),H=(G[0],G[1]),P=t.useState(),_=(0,r.Z)(P,2),Q=_[0],z=_[1],V=(0,m.v9)((function(e){return e.brands})),W=t.useState(!1),J=(0,r.Z)(W,2),K=J[0],X=J[1];t.useEffect((function(){N&&(0,o.qC)(o.HQ+"/getData",{tableName:"slider",orderColumn:"id"}).then((function(e){if(Array.isArray(e)){var l=N;return e.forEach((function(e){l=l.filter((function(l){return l.id!=e.banner_id}))})),a(l)}console.log(e.message)}))}),[]);var Y=function(){var e=(0,n.Z)(c().mark((function e(l,a,n){var r,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=URL.createObjectURL(n[0]),(s=new Image).onload=function(){return s.width==a&&s.height==l?(console.log("correct"),X(!0),!0):(X(!1),URL.revokeObjectURL(s.src),!1)},s.src=r;case 4:case"end":return e.stop()}}),e)})));return function(l,a,n){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"page-header",children:[(0,v.jsx)("h3",{className:"page-title",children:" Add Slider "}),(0,v.jsx)("nav",{"aria-label":"breadcrumb",children:(0,v.jsxs)("ol",{className:"breadcrumb",children:[(0,v.jsx)("li",{className:"breadcrumb-item",children:(0,v.jsx)("a",{href:"!#",onClick:function(e){return e.preventDefault()},children:"Sliders"})}),(0,v.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Add"})]})})]}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-12 grid-margin",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsx)("div",{className:"card-body",children:(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsx)("h4",{className:"card-title",children:"Activities List"}),(0,v.jsx)("p",{className:"card-description",children:" Add slider images to show your offers!!"}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-12 grid-margin",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsx)("h4",{className:"card-title",children:"Information"}),(0,v.jsxs)("form",{className:"form-sample",children:[(0,v.jsx)("p",{className:"card-description",children:" Add slider for a single brand "}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)(i.Z.Group,{className:"row",children:[(0,v.jsx)("label",{className:"col-sm-3 col-form-label",children:"Title(Optional)"}),(0,v.jsx)("div",{className:"col-sm-9",children:(0,v.jsx)(i.Z.Control,{placeholder:"title of the banner",onChange:function(e){return z(e.target.value)},type:"text"})})]})}),(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)(i.Z.Group,{className:"row",children:[(0,v.jsx)("label",{className:"col-sm-3 col-form-label",children:"Details"}),(0,v.jsx)("div",{className:"col-sm-9",children:(0,v.jsx)(i.Z.Control,{onChange:function(e){return H(e.target.value)},placeholder:"optional",type:"text"})})]})})]}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)(i.Z.Group,{className:"row",children:[(0,v.jsx)("label",{className:"col-sm-3 col-form-label",children:"Select Brand(Optional)"}),(0,v.jsx)("div",{className:"col-sm-9",children:(0,v.jsxs)("select",{onChange:function(e){D(e.target.value)},className:"form-control",children:[(0,v.jsx)("option",{value:"",children:"Select Brand"}),V?V.map((function(e,l){return(0,v.jsx)("option",{value:e.id,children:e.name},l)})):(0,v.jsx)("option",{value:"",children:"No Brands"})]})})]})}),(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)(i.Z.Group,{className:"row",children:[(0,v.jsx)("label",{className:"col-sm-3 col-form-label",children:"Add Banner Image-1320*500"}),(0,v.jsx)("div",{className:"col-sm-9",children:(0,v.jsx)(i.Z.Control,{onChange:function(e){R(e.target.files),Y(500,1320,e.target.files)},type:"file"})})]})})]}),S?(0,v.jsx)("div",{className:"alert alert-primary",role:"alert",children:S}):(0,v.jsx)(v.Fragment,{})]}),(0,v.jsx)("button",{onClick:function(){if(C(""),K){var e=new FormData;e.append("file",U[0]),f().post(o.HQ+"/uploadWithData",e).then((function(e){e.data.url&&(0,o.qC)(o.HQ+"/setData",{auth:p.currentUser,tableName:"slider",columns:["name","image","brand_id"],values:[Q||"",e.data.url,k||""]}).then((function(e){console.log(e),e.insertId?(C("Image Saved."),j(!x)):C(e.message)}))}))}else C("Image size must be 1320*500 size")},className:"btn btn-gradient-secondary btn-rounded btn-fw",children:"SAVE"})]})})})})]})})})})})})})}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-12 grid-margin",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsx)("div",{className:"card-body",children:(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsx)("h4",{className:"card-title",children:"Flash Banner"}),(0,v.jsx)("p",{className:"card-description",children:" Add flash banner only two options"}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)(i.Z.Group,{className:"row",children:[(0,v.jsx)("label",{className:"col-sm-3 col-form-label",children:"Select a banner"}),(0,v.jsx)("div",{className:"col-sm-9",children:(0,v.jsxs)("select",{onChange:function(e){A(e.target.value)},className:"form-control",children:[(0,v.jsx)("option",{children:"Select one"}),N?N.map((function(e,l){return(0,v.jsx)("option",{value:e.id,children:e.name},l)})):(0,v.jsx)("option",{children:"Select one"})]})})]})}),(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)(i.Z.Group,{className:"row",children:[(0,v.jsx)("label",{className:"col-sm-3 col-form-label",children:"Select Index"}),(0,v.jsx)("div",{className:"col-sm-9",children:(0,v.jsxs)("select",{onChange:function(e){Z(e.target.value)},className:"form-control",children:[(0,v.jsx)("option",{children:"Select one"}),(0,v.jsx)("option",{value:1,children:"first flush banner"}),(0,v.jsx)("option",{value:2,children:"second flush banner"})]})})]})})]}),(0,v.jsx)("p",{style:{color:"red"},children:S}),(0,v.jsx)("button",{onClick:function(){E&&F?(0,o.qC)(o.HQ+"/updateData",{tableName:"banner",columns:["number"],values:[0],condition:"number="+F}).then((function(e){console.log(e),(0,o.qC)(o.HQ+"/updateData",{tableName:"banner",columns:["number"],values:[F],condition:"id="+E}).then((function(e){console.log(e),e.affectedRows&&C("Changes are saved")}))})):C("Select banner image and index")},className:"btn btn-gradient-danger btn-rounded btn-fw",children:"ADD"})]})})})})})})})})]})}},6016:function(e){e.exports=function(){"use strict";var e={CUSTOMFILE:'.custom-file input[type="file"]',CUSTOMFILELABEL:".custom-file-label",FORM:"form",INPUT:"input"},l=3,a=function(l){var a="",n=l.parentNode.querySelector(e.CUSTOMFILELABEL);return n&&(a=n.textContent),a},n=function(e){if(e.childNodes.length>0)for(var a=[].slice.call(e.childNodes),n=0;n<a.length;n++){var r=a[n];if(r.nodeType!==l)return r}return e},r=function(l){var a=l.bsCustomFileInput.defaultText,r=l.parentNode.querySelector(e.CUSTOMFILELABEL);r&&(n(r).textContent=a)},s=!!window.File,c="fakepath",t="\\",i=function(e){if(e.hasAttribute("multiple")&&s)return[].slice.call(e.files).map((function(e){return e.name})).join(", ");if(-1!==e.value.indexOf(c)){var l=e.value.split(t);return l[l.length-1]}return e.value};function o(){var l=this.parentNode.querySelector(e.CUSTOMFILELABEL);if(l){var a=n(l),s=i(this);s.length?a.textContent=s:r(this)}}function d(){for(var l=[].slice.call(this.querySelectorAll(e.INPUT)).filter((function(e){return!!e.bsCustomFileInput})),a=0,n=l.length;a<n;a++)r(l[a])}var u="bsCustomFileInput",m={FORMRESET:"reset",INPUTCHANGE:"change"};return{init:function(l,n){void 0===l&&(l=e.CUSTOMFILE),void 0===n&&(n=e.FORM);for(var r=[].slice.call(document.querySelectorAll(l)),s=[].slice.call(document.querySelectorAll(n)),c=0,t=r.length;c<t;c++){var i=r[c];Object.defineProperty(i,u,{value:{defaultText:a(i)},writable:!0}),o.call(i),i.addEventListener(m.INPUTCHANGE,o)}for(var h=0,f=s.length;h<f;h++)s[h].addEventListener(m.FORMRESET,d),Object.defineProperty(s[h],u,{value:!0,writable:!0})},destroy:function(){for(var l=[].slice.call(document.querySelectorAll(e.FORM)).filter((function(e){return!!e.bsCustomFileInput})),a=[].slice.call(document.querySelectorAll(e.INPUT)).filter((function(e){return!!e.bsCustomFileInput})),n=0,s=a.length;n<s;n++){var c=a[n];r(c),c[u]=void 0,c.removeEventListener(m.INPUTCHANGE,o)}for(var t=0,i=l.length;t<i;t++)l[t].removeEventListener(m.FORMRESET,d),l[t][u]=void 0}}}()}}]);
//# sourceMappingURL=4410.4a3a2f19.chunk.js.map