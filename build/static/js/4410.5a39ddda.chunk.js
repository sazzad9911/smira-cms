/*! For license information please see 4410.5a39ddda.chunk.js.LICENSE.txt */
(self.webpackChunkpurple_react_free=self.webpackChunkpurple_react_free||[]).push([[4410],{4410:function(e,r,l){"use strict";l.r(r);var a=l(5861),t=l(885),n=l(7757),s=l.n(n),c=l(2791),i=l(4912),o=(l(6016),l(2930)),d=l(3108),u=l(7266),m=l(8687),h=l(4569),f=l.n(h),v=l(184);r.default=function(){var e=c.useState(null),r=(0,t.Z)(e,2),l=(r[0],r[1]),n=c.useState(!1),h=(0,t.Z)(n,2),x=h[0],p=h[1],N=(0,m.v9)((function(e){return e.banner})),j=(0,u.v0)(d.Z),b=c.useState(),g=(0,t.Z)(b,2),S=g[0],C=g[1],E=c.useState(),y=(0,t.Z)(E,2),I=(y[0],y[1],c.useState()),L=(0,t.Z)(I,2),w=(L[0],L[1],c.useState()),A=(0,t.Z)(w,2),F=A[0],O=A[1],T=c.useState(),Z=(0,t.Z)(T,2),U=Z[0],R=Z[1],M=c.useState(),q=(0,t.Z)(M,2),k=(q[0],q[1]),B=c.useState(),P=(0,t.Z)(B,2),G=P[0],D=P[1],H=(0,m.v9)((function(e){return e.brands})),_=c.useState(!1),Q=(0,t.Z)(_,2),z=Q[0],V=Q[1];c.useEffect((function(){N&&(0,o.qC)(o.HQ+"/getData",{tableName:"slider",orderColumn:"id"}).then((function(e){if(Array.isArray(e)){var r=N;return e.forEach((function(e){r=r.filter((function(r){return r.id!=e.banner_id}))})),l(r)}console.log(e.message)}))}),[]);var W=function(){var e=(0,a.Z)(s().mark((function e(r,l,a){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=URL.createObjectURL(a[0]),(n=new Image).onload=function(){return n.width==l&&n.height==r?(console.log("correct"),V(!0),!0):(V(!1),URL.revokeObjectURL(n.src),!1)},n.src=t;case 4:case"end":return e.stop()}}),e)})));return function(r,l,a){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"page-header",children:[(0,v.jsx)("h3",{className:"page-title",children:" Add Slider "}),(0,v.jsx)("nav",{"aria-label":"breadcrumb",children:(0,v.jsxs)("ol",{className:"breadcrumb",children:[(0,v.jsx)("li",{className:"breadcrumb-item",children:(0,v.jsx)("a",{href:"!#",onClick:function(e){return e.preventDefault()},children:"Sliders"})}),(0,v.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Add"})]})})]}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-12 grid-margin",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsx)("div",{className:"card-body",children:(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsx)("h4",{className:"card-title",children:"Activities List"}),(0,v.jsx)("p",{className:"card-description",children:" Add slider images to show your offers!!"}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-12 grid-margin",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsx)("h4",{className:"card-title",children:"Information"}),(0,v.jsxs)("form",{className:"form-sample",children:[(0,v.jsx)("p",{className:"card-description",children:" Add slider for a single brand "}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)(i.Z.Group,{className:"row",children:[(0,v.jsx)("label",{className:"col-sm-3 col-form-label",children:"Title(Optional)"}),(0,v.jsx)("div",{className:"col-sm-9",children:(0,v.jsx)(i.Z.Control,{placeholder:"title of the banner",onChange:function(e){return D(e.target.value)},type:"text"})})]})}),(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)(i.Z.Group,{className:"row",children:[(0,v.jsx)("label",{className:"col-sm-3 col-form-label",children:"Details"}),(0,v.jsx)("div",{className:"col-sm-9",children:(0,v.jsx)(i.Z.Control,{onChange:function(e){return k(e.target.value)},placeholder:"optional",type:"text"})})]})})]}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)(i.Z.Group,{className:"row",children:[(0,v.jsx)("label",{className:"col-sm-3 col-form-label",children:"Select Brand(Optional)"}),(0,v.jsx)("div",{className:"col-sm-9",children:(0,v.jsxs)("select",{onChange:function(e){R(e.target.value)},className:"form-control",children:[(0,v.jsx)("option",{value:"",children:"Select Brand"}),H?H.map((function(e,r){return(0,v.jsx)("option",{value:e.id,children:e.name},r)})):(0,v.jsx)("option",{value:"",children:"No Brands"})]})})]})}),(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)(i.Z.Group,{className:"row",children:[(0,v.jsx)("label",{className:"col-sm-3 col-form-label",children:"Add Banner Image-1320*500"}),(0,v.jsx)("div",{className:"col-sm-9",children:(0,v.jsx)(i.Z.Control,{onChange:function(e){O(e.target.files),W(500,1320,e.target.files)},type:"file"})})]})})]}),S?(0,v.jsx)("div",{className:"alert alert-primary",role:"alert",children:S}):(0,v.jsx)(v.Fragment,{})]}),(0,v.jsx)("button",{onClick:function(){if(C(""),z){var e=new FormData;e.append("file",F[0]),f().post(o.HQ+"/uploadWithData",e).then((function(e){e.data.url&&(0,o.qC)(o.HQ+"/setData",{auth:j.currentUser,tableName:"slider",columns:["name","image","brand_id"],values:[G||"",e.data.url,U||""]}).then((function(e){console.log(e),e.insertId?(C("Image Saved."),p(!x)):C(e.message)}))}))}else C("Image size must be 1320*500 size")},className:"btn btn-gradient-secondary btn-rounded btn-fw",children:"SAVE"})]})})})})]})})})})})})})})]})}},6016:function(e){e.exports=function(){"use strict";var e={CUSTOMFILE:'.custom-file input[type="file"]',CUSTOMFILELABEL:".custom-file-label",FORM:"form",INPUT:"input"},r=3,l=function(r){var l="",a=r.parentNode.querySelector(e.CUSTOMFILELABEL);return a&&(l=a.textContent),l},a=function(e){if(e.childNodes.length>0)for(var l=[].slice.call(e.childNodes),a=0;a<l.length;a++){var t=l[a];if(t.nodeType!==r)return t}return e},t=function(r){var l=r.bsCustomFileInput.defaultText,t=r.parentNode.querySelector(e.CUSTOMFILELABEL);t&&(a(t).textContent=l)},n=!!window.File,s="fakepath",c="\\",i=function(e){if(e.hasAttribute("multiple")&&n)return[].slice.call(e.files).map((function(e){return e.name})).join(", ");if(-1!==e.value.indexOf(s)){var r=e.value.split(c);return r[r.length-1]}return e.value};function o(){var r=this.parentNode.querySelector(e.CUSTOMFILELABEL);if(r){var l=a(r),n=i(this);n.length?l.textContent=n:t(this)}}function d(){for(var r=[].slice.call(this.querySelectorAll(e.INPUT)).filter((function(e){return!!e.bsCustomFileInput})),l=0,a=r.length;l<a;l++)t(r[l])}var u="bsCustomFileInput",m={FORMRESET:"reset",INPUTCHANGE:"change"};return{init:function(r,a){void 0===r&&(r=e.CUSTOMFILE),void 0===a&&(a=e.FORM);for(var t=[].slice.call(document.querySelectorAll(r)),n=[].slice.call(document.querySelectorAll(a)),s=0,c=t.length;s<c;s++){var i=t[s];Object.defineProperty(i,u,{value:{defaultText:l(i)},writable:!0}),o.call(i),i.addEventListener(m.INPUTCHANGE,o)}for(var h=0,f=n.length;h<f;h++)n[h].addEventListener(m.FORMRESET,d),Object.defineProperty(n[h],u,{value:!0,writable:!0})},destroy:function(){for(var r=[].slice.call(document.querySelectorAll(e.FORM)).filter((function(e){return!!e.bsCustomFileInput})),l=[].slice.call(document.querySelectorAll(e.INPUT)).filter((function(e){return!!e.bsCustomFileInput})),a=0,n=l.length;a<n;a++){var s=l[a];t(s),s[u]=void 0,s.removeEventListener(m.INPUTCHANGE,o)}for(var c=0,i=r.length;c<i;c++)r[c].removeEventListener(m.FORMRESET,d),r[c][u]=void 0}}}()}}]);
//# sourceMappingURL=4410.5a39ddda.chunk.js.map