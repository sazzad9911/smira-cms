/*! For license information please see 7262.0c9d3ca7.chunk.js.LICENSE.txt */
(self.webpackChunkpurple_react_free=self.webpackChunkpurple_react_free||[]).push([[7262,5238],{8893:function(e,l,a){"use strict";a.r(l);var t=a(885),s=a(2791),n=a(8687),r=a(2930),c=(a(5238),a(1523)),i=a(184);l.default=function(){var e=(0,n.v9)((function(e){return e.hotels})),l=s.useState([]),a=(0,t.Z)(l,2),r=a[0],c=a[1],d=s.useState(1),u=(0,t.Z)(d,2),h=u[0],m=u[1],f=s.useState(null),v=(0,t.Z)(f,2),x=v[0],p=v[1],j=s.useState(null),N=(0,t.Z)(j,2),g=(N[0],N[1],s.useState(!1)),b=(0,t.Z)(g,2),C=b[0],k=b[1];s.useEffect((function(){if(e){var l=[];e.forEach((function(e,a){a<10*h&&a>=10*h-10&&l.push(e)})),p(l);for(var a=e.length/10,t=parseInt(a),s=[],n=0;n<t;n++)s.push(t);a>t?(s.push(t),c(s)):c(s)}}),[h+e]);var y=function(e){console.log(e),k(!C)};return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"page-header",children:[(0,i.jsx)("h3",{className:"page-title",children:" Delete Hotels "}),(0,i.jsx)("nav",{"aria-label":"breadcrumb",children:(0,i.jsxs)("ol",{className:"breadcrumb",children:[(0,i.jsx)("li",{className:"breadcrumb-item",children:(0,i.jsx)("a",{href:"!#",onClick:function(e){return e.preventDefault()},children:"Hotels"})}),(0,i.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Delete"})]})})]}),(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:(0,i.jsx)("div",{className:"card",children:(0,i.jsxs)("div",{className:"card-body",children:[(0,i.jsx)("h4",{className:"card-title",children:"All Hotels"}),(0,i.jsx)("div",{className:"table-responsive",children:(0,i.jsxs)("table",{className:"table table-striped",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:" Hotel name "}),(0,i.jsx)("th",{children:" Address "}),(0,i.jsx)("th",{children:"Action "})]})}),(0,i.jsx)("tbody",{children:x?x.map((function(e,l){return(0,i.jsx)(o,{Click:y,doc:e},l)})):(0,i.jsx)("tr",{})})]})})]})})}),r.length>0?(0,i.jsx)("nav",{style:{width:"100%",overflow:"scroll"},children:(0,i.jsxs)("ul",{className:"pagination",children:[(0,i.jsx)("li",{className:"page-item",children:(0,i.jsx)("button",{onClick:function(){h>1&&m(h-1)},className:"page-link",children:"Previous"})}),Array.isArray(r)?r.map((function(e,l){return(0,i.jsx)("li",{className:h==l+1?"page-item active":"page-item",children:(0,i.jsx)("button",{onClick:function(){m(l+1)},className:"page-link",children:l+1})},l)})):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)("li",{className:"page-item",children:(0,i.jsx)("button",{onClick:function(){h<r.length&&m(h+1)},className:"page-link",children:"Next"})})]})}):(0,i.jsx)(i.Fragment,{})]})]})};var o=function(e){var l=s.useState(!1),a=(0,t.Z)(l,2),o=a[0],d=a[1],u=e.doc,h=s.useState(!1),m=(0,t.Z)(h,2),f=(m[0],m[1],(0,n.I0)());return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:u.name}),(0,i.jsx)("td",{children:u.address}),o?(0,i.jsx)("div",{}):(0,i.jsxs)("td",{children:[(0,i.jsx)("button",{onClick:function(){var e;e=u.id,(0,r.qC)(r.HQ+"/deleteData",{tableName:"hotels",condition:"id="+e}).then((function(e){console.log(e),(0,r.qC)(r.HQ+"/getData",{tableName:"hotels",orderColumn:"date"}).then((function(e){Array.isArray(e)&&f((0,r.nY)(e))}))})),(0,r.qC)(r.HQ+"/deleteData",{tableName:"hotel_photos",condition:"hotel_id="+e}).then((function(e){console.log(e)})),d(!0)},className:"btn btn-gradient-danger btn-rounded btn-fw",children:"Delete"}),(0,i.jsx)(c.rU,{style:{marginLeft:"5px"},to:"/hotels/update/"+u.id,className:"btn btn-gradient-danger btn-rounded btn-fw",children:"Update"})]})]})}},5238:function(e,l,a){"use strict";a.r(l);a(5861);var t=a(885),s=(a(7757),a(2791)),n=a(4912),r=(a(6016),a(2930)),c=a(4569),i=a.n(c),o=a(8687),d=a(7266),u=a(3108),h=a(9271),m=a(184);l.default=function(){var e=s.useState(new Date),l=(0,t.Z)(e,2),a=(l[0],l[1],s.useState([])),c=(0,t.Z)(a,2),f=c[0],v=c[1],x=s.useState(""),p=(0,t.Z)(x,2),j=p[0],N=p[1],g=s.useState(""),b=(0,t.Z)(g,2),C=b[0],k=b[1],y=s.useState(""),Z=(0,t.Z)(y,2),S=Z[0],w=Z[1],A=s.useState(""),I=(0,t.Z)(A,2),F=I[0],E=I[1],M=s.useState(""),T=(0,t.Z)(M,2),L=T[0],U=T[1],H=s.useState("villas"),P=(0,t.Z)(H,2),D=P[0],G=P[1],O=s.useState(null),q=(0,t.Z)(O,2),_=(q[0],q[1]),R=s.useState(null),B=(0,t.Z)(R,2),Q=B[0],V=B[1],W=((0,o.v9)((function(e){return e.addresses})),s.useState("")),Y=(0,t.Z)(W,2),z=Y[0],J=Y[1],K=s.useState(""),X=(0,t.Z)(K,2),$=(X[0],X[1],s.useRef(),s.useState("")),ee=(0,t.Z)($,2),le=ee[0],ae=ee[1],te=s.useState(""),se=(0,t.Z)(te,2),ne=se[0],re=se[1],ce=s.useState(!1),ie=(0,t.Z)(ce,2),oe=(ie[0],ie[1],(0,h.UO)().id),de=s.useState(null),ue=(0,t.Z)(de,2),he=(ue[0],ue[1]),me=(0,o.v9)((function(e){return e.hotels})),fe=s.useState(),ve=(0,t.Z)(fe,2),xe=(ve[0],ve[1],s.useState()),pe=(0,t.Z)(xe,2),je=pe[0],Ne=pe[1],ge=(0,d.v0)(u.Z);s.useEffect((function(){if(me&&oe){var e=me.filter((function(e){return e.id==oe}));e&&(he(e[0]),N(e[0].name),k(e[0].address),v(e[0].conditions.split(",")),J(e[0].near_by.split(",")[0]),ae(e[0].near_by.split(",")[1]),re(e[0].location),G(e[0].categories),_(e[0].image),E(e[0].check_in),U(e[0].check_out),w(e[0].description),Ne(e[0].phone))}}),[me+oe]);var be=function(e){for(var l="",a=0;a<e.length&&" "!=e[a];a++)l+=e[a];return":"==e[1]&&(l="0"+l),console.log(l),l},Ce=function(e){if(Array.isArray(e)){var l="";return e.forEach((function(e,a){l=l?l+","+e:e})),l}return null};return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"page-header",children:[(0,m.jsx)("h3",{className:"page-title",children:" Update Hotel "}),(0,m.jsx)("nav",{"aria-label":"breadcrumb",children:(0,m.jsxs)("ol",{className:"breadcrumb",children:[(0,m.jsx)("li",{className:"breadcrumb-item",children:(0,m.jsx)("a",{href:"#",onClick:function(e){return e.preventDefault()},children:"Hotel"})}),(0,m.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Update"})]})})]}),(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-12 grid-margin",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("h4",{className:"card-title",children:"Information"}),(0,m.jsxs)("div",{className:"form-sample",children:[(0,m.jsx)("p",{className:"card-description",children:" Give information about it"}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)(n.Z.Group,{className:"row",children:[(0,m.jsx)("label",{className:"col-sm-3 col-form-label",children:"Name"}),(0,m.jsx)("div",{className:"col-sm-9",children:(0,m.jsx)(n.Z.Control,{value:j,placeholder:"Hotel Name",onChange:function(e){return N(e.target.value)},type:"text"})})]})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)(n.Z.Group,{className:"row",children:[(0,m.jsx)("label",{className:"col-sm-3 col-form-label",children:"Address"}),(0,m.jsx)("div",{className:"col-sm-9",children:(0,m.jsx)(n.Z.Control,{value:C,placeholder:"Hotel Address",onChange:function(e){return k(e.target.value)},type:"text"})})]})})]}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("p",{children:"Amenities"}),(0,m.jsx)(n.Z.Group,{className:"row",children:(0,m.jsxs)("div",{className:"col-sm-9",children:[(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{onChange:function(e){if(e.target.checked){var l=f;l.push(e.target.value),v(l)}else{var a=f.filter((function(l){return l!=e.target.value}));v(a)}},className:"form-check-input",type:"checkbox",checked:!!f.find((function(e){return"parking"==e})),value:"parking",id:"defaultCheck1"}),(0,m.jsx)("label",{className:"form-check-label",htmlFor:"defaultCheck1",children:"Parking"})]}),(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{onChange:function(e){if(e.target.checked){var l=f;l.push(e.target.value),v(l)}else{var a=f.filter((function(l){return l!=e.target.value}));v(a)}},className:"form-check-input",type:"checkbox",checked:!!f.find((function(e){return"tv"==e})),value:"tv",id:"defaultCheck1"}),(0,m.jsx)("label",{className:"form-check-label",htmlFor:"defaultCheck1",children:"Tv"})]}),(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{onChange:function(e){if(e.target.checked){var l=f;l.push(e.target.value),v(l)}else{var a=f.filter((function(l){return l!=e.target.value}));v(a)}},className:"form-check-input",type:"checkbox",checked:!!f.find((function(e){return"wifi"==e})),value:"wifi",id:"defaultCheck1"}),(0,m.jsx)("label",{className:"form-check-label",htmlFor:"defaultCheck1",children:"Wifi"})]}),(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{onChange:function(e){if(e.target.checked){var l=f;l.push(e.target.value),v(l)}else{var a=f.filter((function(l){return l!=e.target.value}));v(a)}},className:"form-check-input",type:"checkbox",checked:!!f.find((function(e){return"cctv"==e})),value:"cctv",id:"defaultCheck1"}),(0,m.jsx)("label",{className:"form-check-label",htmlFor:"defaultCheck1",children:"CCTV"})]}),(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{onChange:function(e){if(e.target.checked){var l=f;l.push(e.target.value),v(l)}else{var a=f.filter((function(l){return l!=e.target.value}));v(a)}},className:"form-check-input",type:"checkbox",value:"gym",id:"defaultCheck1",checked:!!f.find((function(e){return"gym"==e}))}),(0,m.jsx)("label",{className:"form-check-label",htmlFor:"defaultCheck1",children:"Gym"})]}),(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{onChange:function(e){if(e.target.checked){var l=f;l.push(e.target.value),v(l)}else{var a=f.filter((function(l){return l!=e.target.value}));v(a)}},className:"form-check-input",type:"checkbox",value:"swmming",id:"defaultCheck1",checked:!!f.find((function(e){return"swmming"==e}))}),(0,m.jsx)("label",{className:"form-check-label",htmlFor:"defaultCheck1",children:"Swimming"})]})]})})]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsxs)(n.Z.Group,{className:"row",children:[(0,m.jsx)("label",{className:"col-sm-3 col-form-label",children:"Near by places 1"}),(0,m.jsx)("div",{className:"col-sm-9",children:(0,m.jsx)(n.Z.Control,{value:z,placeholder:"eg. 500m away from Sai Baba Mandir",onChange:function(e){J(e.target.value)},type:"text"})})]}),(0,m.jsxs)(n.Z.Group,{className:"row",children:[(0,m.jsx)("label",{className:"col-sm-3 col-form-label",children:"Near by places 2"}),(0,m.jsx)("div",{className:"col-sm-9",children:(0,m.jsx)(n.Z.Control,{value:le,placeholder:"eg. 500m away from Sai Baba Mandir",onChange:function(e){ae(e.target.value)},type:"text"})})]}),(0,m.jsxs)(n.Z.Group,{className:"row",children:[(0,m.jsx)("label",{className:"col-sm-3 col-form-label",children:"Map Link"}),(0,m.jsx)("div",{className:"col-sm-9",children:(0,m.jsx)(n.Z.Control,{value:ne,placeholder:"google map link",onChange:function(e){return re(e.target.value)},type:"text"})})]})]})]}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)(n.Z.Group,{className:"row",children:[(0,m.jsx)("label",{className:"col-sm-3 col-form-label",children:"Check In"}),(0,m.jsx)("div",{className:"col-sm-9",children:(0,m.jsx)(n.Z.Control,{value:be(F),placeholder:"eg. 12:00 PM- 10AM",onChange:function(e){var l=e.target.value.split(":"),a="";a=parseInt(l[0])>12?parseInt(l[0])-12+":"+l[1]+" PM":12==parseInt(l[0])?"12:"+l[1]+" PM":0==parseInt(l[0])?"12:"+l[1]+" AM":l[0]+":"+l[1]+" AM",E(a)},type:"time"})})]})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)(n.Z.Group,{className:"row",children:[(0,m.jsx)("label",{className:"col-sm-3 col-form-label",children:"Category"}),(0,m.jsx)("div",{className:"col-sm-9",children:(0,m.jsxs)("select",{value:D,onChange:function(e){return G(e.target.value)},className:"form-control",children:[(0,m.jsx)("option",{value:"villas",children:"Villas"}),(0,m.jsx)("option",{value:"farm-house",children:"Farm House"}),(0,m.jsx)("option",{value:"deluxe",children:"Deluxe"})]})})]})})]}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)(n.Z.Group,{className:"row",children:[(0,m.jsx)("label",{className:"col-sm-3 col-form-label",children:"Check Out"}),(0,m.jsx)("div",{className:"col-sm-9",children:(0,m.jsx)(n.Z.Control,{value:be(L),placeholder:"eg. 12:00 PM- 10AM",onChange:function(e){var l=e.target.value.split(":"),a="";a=parseInt(l[0])>12?parseInt(l[0])-12+":"+l[1]+" PM":12==parseInt(l[0])?"12:"+l[1]+" PM":0==parseInt(l[0])?"12:"+l[1]+" AM":l[0]+":"+l[1]+" AM",U(a)},type:"time"})})]})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)(n.Z.Group,{className:"row",children:[(0,m.jsx)("label",{className:"col-sm-3 col-form-label",children:"Thumbnail Image"}),(0,m.jsx)("div",{className:"col-sm-9",children:(0,m.jsx)(n.Z.Control,{name:"file",onChange:function(e){!function(e){var l=new FormData;l.append("file",e[0]),i().post(r.HQ+"/uploadWithData",l).then((function(e){e.data.url&&(0,r.qC)(r.HQ+"/updateData",{auth:ge.currentUser,tableName:"hotels",columns:["image"],values:[e.data.url],condition:"id="+oe}).then((function(e){console.log(e),V("Image Saved.")}))}))}(e.target.files)},type:"file"})})]})})]}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)(n.Z.Group,{className:"row",children:[(0,m.jsx)("label",{className:"col-sm-3 col-form-label",children:"Description"}),(0,m.jsx)("div",{className:"col-sm-9",children:(0,m.jsx)(n.Z.Control,{value:S,placeholder:"Description",onChange:function(e){return w(e.target.value)},type:"text"})})]})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)(n.Z.Group,{className:"row",children:[(0,m.jsx)("label",{className:"col-sm-3 col-form-label",children:"Contact Number"}),(0,m.jsx)("div",{className:"col-sm-9",children:(0,m.jsx)(n.Z.Control,{value:je,placeholder:"contact number",onChange:function(e){return Ne(e.target.value)},type:"text"})})]})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsx)("button",{onClick:function(){j&&C&&S&&F&&L&&z&&ne&&f&&je?(V("Please wait..."),(0,r.qC)(r.HQ+"/updateData",{auth:ge.currentUser,tableName:"hotels",columns:["name","address","location","check_in","check_out","conditions","description","categories","near_by","phone"],values:[j.replace(/[^\w\s]/gi,""),C,ne,F,L,Ce(f),S,D,z+(le?","+le:""),je],condition:"id="+oe}).then((function(e){console.log(e),V("Done. You can reload your page now"),setTimeout((function(){window.location.reload()}),300)}))):V("Please fill all the required fields")},className:"btn btn-gradient-secondary btn-rounded btn-fw",children:"SAVE"})}),(0,m.jsx)("div",{className:"col-md-6",children:Q?(0,m.jsx)("div",{className:"alert alert-primary",role:"alert",children:Q}):(0,m.jsx)(m.Fragment,{})})]})]})]})})})})]})}},6016:function(e){e.exports=function(){"use strict";var e={CUSTOMFILE:'.custom-file input[type="file"]',CUSTOMFILELABEL:".custom-file-label",FORM:"form",INPUT:"input"},l=3,a=function(l){var a="",t=l.parentNode.querySelector(e.CUSTOMFILELABEL);return t&&(a=t.textContent),a},t=function(e){if(e.childNodes.length>0)for(var a=[].slice.call(e.childNodes),t=0;t<a.length;t++){var s=a[t];if(s.nodeType!==l)return s}return e},s=function(l){var a=l.bsCustomFileInput.defaultText,s=l.parentNode.querySelector(e.CUSTOMFILELABEL);s&&(t(s).textContent=a)},n=!!window.File,r="fakepath",c="\\",i=function(e){if(e.hasAttribute("multiple")&&n)return[].slice.call(e.files).map((function(e){return e.name})).join(", ");if(-1!==e.value.indexOf(r)){var l=e.value.split(c);return l[l.length-1]}return e.value};function o(){var l=this.parentNode.querySelector(e.CUSTOMFILELABEL);if(l){var a=t(l),n=i(this);n.length?a.textContent=n:s(this)}}function d(){for(var l=[].slice.call(this.querySelectorAll(e.INPUT)).filter((function(e){return!!e.bsCustomFileInput})),a=0,t=l.length;a<t;a++)s(l[a])}var u="bsCustomFileInput",h={FORMRESET:"reset",INPUTCHANGE:"change"};return{init:function(l,t){void 0===l&&(l=e.CUSTOMFILE),void 0===t&&(t=e.FORM);for(var s=[].slice.call(document.querySelectorAll(l)),n=[].slice.call(document.querySelectorAll(t)),r=0,c=s.length;r<c;r++){var i=s[r];Object.defineProperty(i,u,{value:{defaultText:a(i)},writable:!0}),o.call(i),i.addEventListener(h.INPUTCHANGE,o)}for(var m=0,f=n.length;m<f;m++)n[m].addEventListener(h.FORMRESET,d),Object.defineProperty(n[m],u,{value:!0,writable:!0})},destroy:function(){for(var l=[].slice.call(document.querySelectorAll(e.FORM)).filter((function(e){return!!e.bsCustomFileInput})),a=[].slice.call(document.querySelectorAll(e.INPUT)).filter((function(e){return!!e.bsCustomFileInput})),t=0,n=a.length;t<n;t++){var r=a[t];s(r),r[u]=void 0,r.removeEventListener(h.INPUTCHANGE,o)}for(var c=0,i=l.length;c<i;c++)l[c].removeEventListener(h.FORMRESET,d),l[c][u]=void 0}}}()}}]);
//# sourceMappingURL=7262.0c9d3ca7.chunk.js.map