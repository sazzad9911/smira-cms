{"version":3,"file":"static/js/6031.acd8e796.chunk.js","mappings":"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","sources":["app/brands/Outlets.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport { ProgressBar } from 'react-bootstrap';\r\nimport { Form } from 'react-bootstrap';\r\nimport {useSelector} from 'react-redux'\r\nimport {postData, url} from '../../action'\r\nimport Axios from 'axios'\r\nimport { getAuth } from 'firebase/auth';\r\nimport app from './../../firebase';\r\n\r\nconst Outlets = () => {\r\n    const hotels= useSelector(state => state.hotels)\r\n    const [Error,setError]= React.useState()\r\n    const [Data, setData]= React.useState(null)\r\n    const [Action, setAction]=React.useState(false)\r\n    const [File, setFile]=React.useState(null)\r\n    const [HotelId, setHotelId]=React.useState(null)\r\n    const [Id,setId]=React.useState(null)\r\n    const [Data2, setData2]= React.useState(null)\r\n    const auth=getAuth(app)\r\n    const [ImageSize,setImageSize]= React.useState(false)\r\n    const brands=useSelector(state => state.brands)\r\n    const [Address, setAddress]= React.useState()\r\n    const [Phone, setPhone]= React.useState()\r\n    const [Location, setLocation]= React.useState()\r\n\r\n    React.useEffect(() => {\r\n        postData(url + '/getData', {\r\n            tableName: 'outlets',\r\n        }).then(data => {\r\n            if(Array.isArray(data)){\r\n                setData(data)\r\n            }\r\n        })\r\n    },[Action])\r\n    const deleteData = (id) => {\r\n        postData(url + '/deleteData', {\r\n            tableName: 'outlets',\r\n            condition:'id='+id,\r\n        }).then(data => {\r\n            console.log(data)\r\n            setAction(!Action)\r\n        })\r\n    }\r\n    const uploadImages = () =>{\r\n        if(!HotelId || !Phone || !Address || !Location){\r\n            setError('Fill all the fields')\r\n            return\r\n        }\r\n       \r\n        setError('Please wait...')\r\n        postData(url + '/setData',{\r\n            auth: auth.currentUser,\r\n            tableName: 'outlets',\r\n            columns: ['phone','brand_id','location','address'],\r\n            values: [Phone,HotelId,Location,Address],\r\n          }).then(result => {\r\n            console.log(result);\r\n            setError('Congrats! New outlets is added')\r\n            setAction(!Action)\r\n          }).catch(e=>{\r\n              setError('Problem in adding file!')\r\n          })\r\n    }\r\n    React.useEffect(() => {\r\n      if(Data && Id){\r\n        let  arr=Data.filter(d=>d.brand_id==Id)\r\n        setData2(arr)\r\n      }else{\r\n        setData2(Data)\r\n      }\r\n    },[Data+Id])\r\n    \r\n    return (\r\n        <div>\r\n          <div className=\"page-header\">\r\n            <h3 className=\"page-title\"> Add Outlets </h3>\r\n            <nav aria-label=\"breadcrumb\">\r\n              <ol className=\"breadcrumb\">\r\n                <li className=\"breadcrumb-item\"><a href=\"#\" onClick={event => event.preventDefault()}>Brands</a></li>\r\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">Outlets</li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-12 grid-margin\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <h4 className=\"card-title\">Information</h4>\r\n                  <form className=\"form-sample\">\r\n                    <p className=\"card-description\"> Brands info </p>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-6\">\r\n                      <Form.Group className=\"row\">\r\n                          <label className=\"col-sm-3 col-form-label\">Select Brand</label>\r\n                          <div className=\"col-sm-9\">\r\n                            <select onChange={(e)=>{\r\n                              //setDealId(e.target.value);\r\n                              setHotelId(e.target.value);\r\n                            }} className=\"form-control\">\r\n                            <option value=''>Select</option>\r\n                             {\r\n                                brands?(\r\n                                    brands.map((doc, i)=>(\r\n                                  <option value={doc.id} key={i}>{doc.name}</option>\r\n                                ))\r\n                              ):(\r\n                                <option>No Brands</option>\r\n                              )\r\n                             }\r\n                            </select>\r\n                          </div>\r\n                        </Form.Group>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                    <Form.Group className=\"row\">\r\n                        <label className=\"col-sm-3 col-form-label\">Address</label>\r\n                        <div className=\"col-sm-9\">\r\n                        <Form.Control onChange={(e)=>{\r\n                          setAddress(e.target.value)\r\n                          console.log(e.target.value)\r\n                          }}  placeholder='eg. 3/5 Akran, New road' type=\"text\" />\r\n                        </div>\r\n                      </Form.Group>\r\n                    </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                    <Form.Group className=\"row\">\r\n                        <label className=\"col-sm-3 col-form-label\">Phone</label>\r\n                        <div className=\"col-sm-9\">\r\n                        <Form.Control onChange={(e)=>{\r\n                          setPhone(e.target.value)\r\n                          console.log(e.target.value)\r\n                          }}  placeholder='eg. 9929203483' type=\"text\" />\r\n                        </div>\r\n                      </Form.Group>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                    <Form.Group className=\"row\">\r\n                        <label className=\"col-sm-3 col-form-label\">Map Link</label>\r\n                        <div className=\"col-sm-9\">\r\n                        <Form.Control onChange={(e)=>{\r\n                          setLocation(e.target.value)\r\n                          console.log(e.target.value)\r\n                          }}  placeholder='eg. https://google.com/maps/nei/...' type=\"text\" />\r\n                        </div>\r\n                      </Form.Group>\r\n                    </div>\r\n                    </div>\r\n                    {Error?(\r\n                    <div className=\"alert alert-primary\" role=\"alert\">{Error}</div>\r\n                  ):(\r\n                    <></>\r\n                  )}\r\n                  </form>\r\n                  <button onClick={uploadImages} className='btn btn-gradient-secondary btn-rounded btn-fw'>SAVE</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n          <div className=\"col-lg-12 grid-margin stretch-card\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <h4 className=\"card-title\">Information</h4>\r\n                <Form.Group className=\"row\">\r\n                          <label className=\"col-sm-3 col-form-label\">Sort By Brand Name</label>\r\n                          <div className=\"col-sm-9\">\r\n                            <select onChange={(e)=>{\r\n                              //setDealId(e.target.value);\r\n                              setId(e.target.value);\r\n                            }} className=\"form-control\">\r\n                            <option value=''>Select</option>\r\n                             {\r\n                                brands?(\r\n                                    brands.map((doc, i)=>(\r\n                                  <option value={doc.id} key={i}>{doc.name}</option>\r\n                                ))\r\n                              ):(\r\n                                <option>No Deals</option>\r\n                              )\r\n                             }\r\n                            </select>\r\n                          </div>\r\n                        </Form.Group>\r\n                <div className=\"table-responsive\">\r\n                  <table className=\"table table-striped\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th> Brand Name </th>\r\n                        <th> Contact No </th>\r\n                        <th> Address </th>\r\n                        <th> Action </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {\r\n                        Data2 && brands?(\r\n                            Data2.map((doc, i) => (\r\n                                <tr key={i}>\r\n                                <td>\r\n                                <td>{brands?brands.filter(d=>d.id==doc.brand_id)[0].name:'...'}</td>\r\n                                </td>\r\n                                <td>{doc.phone}</td>\r\n                                <td>{doc.address}</td>\r\n                                <td>\r\n                                <button className='btn btn-gradient-danger btn-rounded btn-fw' onClick={()=>{\r\n                                    deleteData(doc.id)\r\n                                }}>\r\n                                Delete\r\n                                </button>\r\n                                </td>\r\n                                </tr>\r\n                            ))\r\n                        ):(<tr><td>Loading...</td></tr>)\r\n                      }\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          </div>\r\n        </div> \r\n    );\r\n};\r\n\r\nexport default Outlets;"],"names":["useSelector","state","hotels","React","Error","setError","Data","setData","Action","setAction","HotelId","setHotelId","Id","setId","Data2","setData2","auth","getAuth","app","brands","Address","setAddress","Phone","setPhone","Location","setLocation","postData","url","tableName","then","data","Array","isArray","arr","filter","d","brand_id","className","href","onClick","event","preventDefault","onChange","e","target","value","map","doc","i","id","name","console","log","placeholder","type","role","currentUser","columns","values","result","catch","phone","address","condition"],"sourceRoot":""}