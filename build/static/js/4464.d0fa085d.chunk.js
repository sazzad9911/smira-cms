"use strict";(self.webpackChunkpurple_react_free=self.webpackChunkpurple_react_free||[]).push([[4464],{4464:function(e,l,s){s.r(l);s(5861);var a=s(885),c=(s(7757),s(2791)),r=s(4912),n=(s(6016),s(8687)),o=(s(4569),s(2930)),i=s(7266),t=s(3108),d=s(9271),m=s(7551),u=s(2443),h=s.n(u),x=s(184);l.default=function(){var e=(0,d.UO)().id,l=c.useState(new Date),s=(0,a.Z)(l,2),u=(s[0],s[1],c.useState()),j=(0,a.Z)(u,2),p=j[0],N=j[1],v=c.useState(),f=(0,a.Z)(v,2),b=f[0],g=f[1],Z=c.useState(null),w=(0,a.Z)(Z,2),y=w[0],C=w[1],S=c.useState(),k=(0,a.Z)(S,2),D=k[0],G=k[1],F=c.useState(),E=(0,a.Z)(F,2),_=E[0],B=E[1],T=c.useState(),P=(0,a.Z)(T,2),R=P[0],U=P[1],O=c.useState(),V=(0,a.Z)(O,2),q=V[0],K=V[1],$=c.useState(),A=(0,a.Z)($,2),H=A[0],I=A[1],Q=c.useState(),Y=(0,a.Z)(Q,2),z=(Y[0],Y[1],c.useState()),J=(0,a.Z)(z,2),L=J[0],M=J[1],W=c.useState(),X=(0,a.Z)(W,2),ee=X[0],le=X[1],se=c.useState(),ae=(0,a.Z)(se,2),ce=ae[0],re=ae[1],ne=c.useState(0),oe=(0,a.Z)(ne,2),ie=(oe[0],oe[1],(0,n.v9)((function(e){return e.brands}))),te=(0,i.v0)(t.Z),de=c.useState(),me=(0,a.Z)(de,2),ue=me[0],he=me[1],xe=c.useState(!0),je=(0,a.Z)(xe,2),pe=je[0],Ne=je[1],ve=c.useState(!1),fe=(0,a.Z)(ve,2),be=(fe[0],fe[1],(0,n.v9)((function(e){return e.deals}))),ge=c.useState(),Ze=(0,a.Z)(ge,2),we=Ze[0],ye=Ze[1],Ce=c.useState(),Se=(0,a.Z)(Ce,2),ke=Se[0],De=Se[1],Ge=c.useState(),Fe=(0,a.Z)(Ge,2),Ee=Fe[0],_e=Fe[1];c.useEffect((function(){if(be&&ie){var l=be.filter((function(l){return l.id==e}));N(l[0].name),g(l[0].conditions),C(l[0].code),G(l[0].discount),B(l[0].price),U(l[0].time),K(l[0].days),I(l[0].forr),M(ie.filter((function(e){return e.id==l[0].brand_id}))),re(l[0].type),he((0,o.cR)(new Date(l[0].till))),ye("<p>"+l[0].days+"</p>"),De("<p>"+l[0].time+"</p>"),_e(l[0].description)}}),[be+ie]);return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"page-header",children:[(0,x.jsx)("h3",{className:"page-title",children:" Update Deals "}),(0,x.jsx)("nav",{"aria-label":"breadcrumb",children:(0,x.jsxs)("ol",{className:"breadcrumb",children:[(0,x.jsx)("li",{className:"breadcrumb-item",children:(0,x.jsx)("a",{href:"!#",onClick:function(e){return e.preventDefault()},children:"Deals"})}),(0,x.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Update"})]})})]}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-12 grid-margin",children:(0,x.jsx)("div",{className:"card",children:(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsx)("h4",{className:"card-title",children:"Information"}),(0,x.jsxs)("form",{className:"form-sample",children:[(0,x.jsx)("p",{className:"card-description",children:" Deals info "}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Title"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)(r.Z.Control,{value:p,onChange:function(e){return N(e.target.value)},type:"text"})})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Valid for"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)(r.Z.Control,{value:H,onChange:function(e){return I(e.target.value)},placeholder:"who can get it.",type:"text"})})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)(r.Z.Group,{className:"row",children:(0,x.jsxs)("div",{className:"col-sm-9",onChange:function(e){Ne(!pe)},children:[(0,x.jsx)("input",{value:!0,className:"form-check-input",type:"radio",checked:pe}),(0,x.jsx)("label",{style:{marginTop:"3px"},className:"form-check-label",children:"Promo Code"}),(0,x.jsx)("br",{}),(0,x.jsx)("input",{value:!1,className:"form-check-input",type:"radio",checked:!pe}),(0,x.jsx)("label",{style:{marginTop:"3px"},className:"form-check-label",children:"Request Button"})]})})}),pe?(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Code"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)(r.Z.Control,{value:y||"",onChange:function(e){return C(e.target.value)},placeholder:"6 digit code",type:"text"})})]})}):(0,x.jsx)(x.Fragment,{}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Conditions"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)(r.Z.Control,{value:b,onChange:function(e){return g(e.target.value)},placeholder:"type all your condition",type:"text"})})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Price"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)(r.Z.Control,{value:_,onChange:function(e){return B(e.target.value)},placeholder:"your price",type:"number"})})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"New Price"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)(r.Z.Control,{value:D,onChange:function(e){return G(e.target.value)},placeholder:"eg. New price here",type:"text"})})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Opening Days"}),(0,x.jsx)("div",{className:"col-sm-9",children:we?(0,x.jsx)(m.CKEditor,{editor:h(),data:we,onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,l){var s=l.getData();K(s.replace(/<\/?[^>]+(>|$)/g,""))},onBlur:function(e,l){},onFocus:function(e,l){}}):(0,x.jsx)(x.Fragment,{})})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Opening Times"}),(0,x.jsx)("div",{className:"col-sm-9",children:ke?(0,x.jsx)(m.CKEditor,{editor:h(),data:ke,onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,l){var s=l.getData();U(s.replace(/<\/?[^>]+(>|$)/g,""))},onBlur:function(e,l){},onFocus:function(e,l){}}):(0,x.jsx)(x.Fragment,{})})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Valid till"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)(r.Z.Control,{value:ue,onChange:function(e){return he(e.target.value)},placeholder:"type of your deal",type:"date"})})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Description"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsx)("textarea",{value:Ee,className:"form-control",rows:"4",placeholder:"Description",onChange:function(e){return _e(e.target.value)},type:"text"})})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)(r.Z.Group,{className:"row",children:[(0,x.jsx)("label",{className:"col-sm-3 col-form-label",children:"Select Brand"}),(0,x.jsx)("div",{className:"col-sm-9",children:(0,x.jsxs)("select",{value:L?L[0].id:"",onChange:function(e){var l=ie.filter((function(l){return l.id==e.target.value}));M(l),console.log(l)},className:"form-control",children:[(0,x.jsx)("option",{value:"",children:"Select"}),ie?ie.map((function(e,l){return(0,x.jsx)("option",{value:e.id,children:e.name},l)})):(0,x.jsx)("option",{children:"No Brands"})]})})]})}),(0,x.jsx)("div",{className:"col-md-6"})]}),ee?(0,x.jsx)("div",{className:"alert alert-primary",role:"alert",children:ee}):(0,x.jsx)(x.Fragment,{})]}),(0,x.jsx)("button",{onClick:function(){p&&b&&R&&q&&H&&L&&ce&&ue?(le("Please wait..."),(0,o.qC)(o.HQ+"/updateData",{auth:te.currentUser,tableName:"deals",columns:["name","brand_id","brand","code","conditions","price","time","days","type","forr","till","discount","description"],values:[p,L[0].id,L[0].name,y,b,_||"",R,q,ce,H,ue,D||"",Ee||""],condition:"id="+e}).then((function(e){le("Files are saved. You can reload the page now."),setTimeout((function(){window.location.reload()}),500),console.log(e)}))):le("Fields can not be empty")},className:"btn btn-gradient-secondary btn-rounded btn-fw",children:"SAVE"})]})})})})]})}}}]);
//# sourceMappingURL=4464.d0fa085d.chunk.js.map