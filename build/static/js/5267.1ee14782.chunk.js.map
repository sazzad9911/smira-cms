{"version":3,"file":"static/js/5267.1ee14782.chunk.js","mappings":"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","sources":["app/deals/Delete.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport { ProgressBar } from 'react-bootstrap';\r\nimport { useSelector ,useDispatch} from 'react-redux';\r\nimport {postData, url, setDeals} from '../../action'\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Delete = () => {\r\n  const deals= useSelector(state => state.deals)\r\n  const [TotalPage,setTotalPage]= React.useState([])\r\n  const [Page,setPage]= React.useState(1)\r\n  const [Data,setData]= React.useState(null)\r\n  const [SearchValue,setSearchValue]= React.useState(null)\r\n\r\n  React.useEffect(() => {\r\n    postData(url + '/getData', {\r\n      tableName: 'deals',\r\n      condition:SearchValue?`brand LIKE '%${SearchValue}%'`:''\r\n    }).then(result => {\r\n      if(Array.isArray(result)){\r\n        let arr=[]\r\n        result.forEach((doc,i) => {\r\n        if(i<(Page*10) && i>=((Page*10)-10)){\r\n          arr.push(doc)\r\n        }\r\n      })\r\n      setData(arr)\r\n      let number=(result.length/10)\r\n      let floatNumber=parseInt(number)\r\n      let numPage=[]\r\n      for(let i=0; i<floatNumber; i++) {\r\n        numPage.push(floatNumber)\r\n      }\r\n      \r\n      if(number>floatNumber){\r\n          numPage.push(floatNumber)\r\n          setTotalPage(numPage)\r\n      }else{\r\n          setTotalPage(numPage)\r\n      }\r\n      }\r\n    })\r\n    if(deals){\r\n      \r\n    }\r\n  },[Page+SearchValue])\r\n    return (\r\n        <div>\r\n          <div className=\"page-header\">\r\n            <h3 className=\"page-title\"> Delete deals </h3>\r\n            <nav aria-label=\"breadcrumb\">\r\n              <ol className=\"breadcrumb\">\r\n                <li className=\"breadcrumb-item\"><a href=\"#\" onClick={event => event.preventDefault()}>Deals</a></li>\r\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">Delete</li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n          <div className=\"row\">\r\n          <div className=\"col-lg-12 grid-margin stretch-card\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n          <form className=\"d-flex align-items-center h-100\" action=\"#\">\r\n                  <div className=\"input-group\">\r\n                     <div className=\"input-group-prepend bg-transparent\">\r\n                       <i className=\"input-group-text border-0 mdi mdi-magnify\"></i>\r\n                    </div>\r\n                                <input onChange={e=>{\r\n                         setSearchValue(e.target.value)\r\n                     }} type=\"text\" className=\"form-control bg-transparent border-0\" placeholder=\"Search by brands\" />\r\n                   </div>\r\n                </form>\r\n                </div>\r\n                </div>\r\n                </div>\r\n          </div>\r\n          <div className=\"row\">\r\n          <div className=\"col-lg-12 grid-margin stretch-card\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <h4 className=\"card-title\">Information</h4>\r\n                \r\n                <div className=\"table-responsive\">\r\n                  <table className=\"table table-striped\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th> Name </th>\r\n                        <th>Brand Name</th>\r\n                        <th> Price </th>\r\n                        <th> Discount </th> \r\n                        <th>Action </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {\r\n                        Data?(\r\n                          Data.map((doc, i)=>(\r\n                            <List doc={doc} key={i}/>\r\n                          ))\r\n                        ):(\r\n                          <tr></tr>\r\n                        )\r\n                      }\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          { TotalPage.length>0?(\r\n                    <nav style={{\r\n                        width: '100%',\r\n                        overflow: 'scroll'\r\n                    }} areaLabel=\"Page navigation example\">\r\n                <ul className=\"pagination\">\r\n                <li className=\"page-item\"><button onClick={() =>{\r\n                    if(Page>1){\r\n                        setPage(Page-1)\r\n                    }\r\n                }} className=\"page-link\">Previous</button></li>\r\n                {\r\n                  TotalPage.map((doc, i)=>(\r\n                    <li key={i} className={Page==(i+1)?\"page-item active\":\"page-item\"}><button onClick={()=>{\r\n                        setPage(i+1)\r\n                    }} className=\"page-link\">{i+1}</button></li>\r\n                  ))\r\n                }\r\n                <li className=\"page-item\"><button onClick={() =>{\r\n                    if(Page<TotalPage.length){\r\n                        setPage(Page+1);\r\n                    }\r\n                }} className=\"page-link\">Next</button></li>\r\n                </ul>\r\n               </nav>\r\n                ):(\r\n                    <></>\r\n                )}\r\n          </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Delete;\r\nconst List = (props)=>{\r\n  const [Read,setRead]=React.useState(false);\r\n  const doc=props.doc\r\n  const dispatch = useDispatch()\r\n\r\n  const deleteDeals=(id) => {\r\n    postData(url + '/deleteData', {\r\n      tableName: 'deals',\r\n      condition: 'id='+ id\r\n    }).then(doc=> {\r\n      console.log(doc);\r\n      postData(url + '/getData',{\r\n        tableName: 'deals',\r\n        orderColumn: 'date'\r\n      }).then(doc=> {\r\n        if(Array.isArray(doc)){\r\n          dispatch(setDeals(doc))\r\n        }\r\n      })\r\n    })\r\n  \r\n  }\r\n  return (\r\n    <tr>\r\n    <td>{doc.name}</td>\r\n    <td>{doc.brand}</td>\r\n    <td>{doc.price}</td>\r\n    <td>{doc.discount}</td>\r\n    \r\n    {\r\n      !Read?(\r\n        <td><button onClick={() =>{\r\n          deleteDeals(doc.id)\r\n          //setRead(true);\r\n        }} \r\n          className='btn btn-gradient-danger btn-rounded btn-fw'>Delete</button>\r\n          <Link to={'/deals/update/' + doc.id} style={{marginLeft:'5px'}} onClick={() =>{\r\n        }} \r\n          className='btn btn-gradient-danger btn-rounded btn-fw'>Update</Link>\r\n          </td>\r\n      ):(\r\n        <td></td>\r\n      )\r\n    }\r\n    </tr>\r\n  )\r\n}\r\n"],"names":["useSelector","state","deals","React","TotalPage","setTotalPage","Page","setPage","Data","setData","SearchValue","setSearchValue","postData","url","tableName","condition","then","result","Array","isArray","arr","forEach","doc","i","push","number","length","floatNumber","parseInt","numPage","className","href","onClick","event","preventDefault","action","onChange","e","target","value","type","placeholder","map","List","style","width","overflow","areaLabel","props","Read","dispatch","useDispatch","name","brand","price","discount","id","console","log","orderColumn","setDeals","to","marginLeft"],"sourceRoot":""}