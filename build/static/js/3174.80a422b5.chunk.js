/*! For license information please see 3174.80a422b5.chunk.js.LICENSE.txt */
(self.webpackChunkpurple_react_free=self.webpackChunkpurple_react_free||[]).push([[3174],{3174:function(e,t,r){"use strict";r.r(t);var n=r(5861),l=r(885),a=r(7757),s=r.n(a),i=r(2791),c=r(4912),o=(r(6016),r(8687)),d=r(4569),u=r.n(d),h=r(2930),m=r(7266),f=r(3108),v=r(184);t.default=function(){var e=i.useState(),t=(0,l.Z)(e,2),r=t[0],a=t[1],d=i.useState(),x=(0,l.Z)(d,2),j=x[0],p=x[1],b=i.useState(),N=(0,l.Z)(b,2),g=N[0],y=N[1],C=i.useState(),S=(0,l.Z)(C,2),E=(S[0],S[1],i.useState()),L=(0,l.Z)(E,2),I=L[0],w=L[1],F=i.useState(!1),A=(0,l.Z)(F,2),T=A[0],O=A[1],U=i.useState(null),Z=(0,l.Z)(U,2),M=Z[0],R=Z[1],k=(0,m.v0)(f.Z),q=i.useState(),D=(0,l.Z)(q,2),P=(D[0],D[1],i.useState(!1)),H=(0,l.Z)(P,2),G=H[0],B=H[1];(0,o.v9)((function(e){return e.brands}));i.useEffect((function(){(0,h.qC)(h.HQ+"/getData",{tableName:"addresses"}).then((function(e){Array.isArray(e)&&R(e)}))}),[T]);var Q=function(){var e=(0,n.Z)(s().mark((function e(t,r,n){var l,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=URL.createObjectURL(n[0]),(a=new Image).onload=function(){return a.width==r&&a.height==t?(console.log("correct"),B(!0),!0):(B(!1),URL.revokeObjectURL(a.src),!1)},a.src=l;case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"page-header",children:[(0,v.jsx)("h3",{className:"page-title",children:" Destinations "}),(0,v.jsx)("nav",{"aria-label":"breadcrumb",children:(0,v.jsxs)("ol",{className:"breadcrumb",children:[(0,v.jsx)("li",{className:"breadcrumb-item",children:(0,v.jsx)("a",{href:"!#",onClick:function(e){return e.preventDefault()},children:"All"})}),(0,v.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Destination"})]})})]}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-12 grid-margin",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsx)("h4",{className:"card-title",children:"Information"}),(0,v.jsxs)("form",{className:"form-sample",children:[(0,v.jsx)("p",{className:"card-description",children:" Add destination where we stay "}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)(c.Z.Group,{className:"row",children:[(0,v.jsx)("label",{className:"col-sm-3 col-form-label",children:"City"}),(0,v.jsx)("div",{className:"col-sm-9",children:(0,v.jsx)(c.Z.Control,{placeholder:"name of the city",onChange:function(e){return a(e.target.value)},type:"text"})})]})}),(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)(c.Z.Group,{className:"row",children:[(0,v.jsx)("label",{className:"col-sm-3 col-form-label",children:"Map Link"}),(0,v.jsx)("div",{className:"col-sm-9",children:(0,v.jsx)(c.Z.Control,{onChange:function(e){return p(e.target.value)},placeholder:"google map link",type:"text"})})]})})]}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)(c.Z.Group,{className:"row",children:[(0,v.jsx)("label",{className:"col-sm-3 col-form-label",children:"Add Thumbnail-800*800"}),(0,v.jsx)("div",{className:"col-sm-9",children:(0,v.jsx)(c.Z.Control,{onChange:function(e){y(e.target.files),Q(800,800,e.target.files)},type:"file"})})]})})}),I?(0,v.jsx)("div",{className:"alert alert-primary",role:"alert",children:I}):(0,v.jsx)(v.Fragment,{})]}),(0,v.jsx)("button",{onClick:function(){if(G)if(g&&j&&r){var e=new FormData;e.append("file",g[0]),u().post(h.HQ+"/uploadWithData",e).then((function(e){e.data.url&&(0,h.qC)(h.HQ+"/setData",{auth:k.currentUser,tableName:"addresses",columns:["city","image","location"],values:[r,e.data.url,j]}).then((function(e){console.log(e),e.insertId?(w("Image Saved."),O(!T)):w(e.message)}))}))}else w("Field are can not be empty");else w("You can only add 800*800 size image")},className:"btn btn-gradient-secondary btn-rounded btn-fw",children:"SAVE"})]})})})}),(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsx)("h4",{className:"card-title",children:"Information"}),(0,v.jsx)("div",{className:"table-responsive",children:(0,v.jsxs)("table",{className:"table table-striped",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:" Image "}),(0,v.jsx)("th",{children:" City "}),(0,v.jsx)("th",{children:" Action "})]})}),(0,v.jsx)("tbody",{children:M?M.length>0?M.map((function(e,t){return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:(0,v.jsx)("img",{src:e.image,alt:e.city})}),(0,v.jsx)("td",{children:e.city}),(0,v.jsx)("td",{children:(0,v.jsx)("button",{className:"btn btn-gradient-danger btn-rounded btn-fw",onClick:function(){var t;t=e.id,(0,h.qC)(h.HQ+"/deleteData",{tableName:"addresses",condition:"id="+t}).then((function(e){console.log(e),O(!T)}))},children:"Delete"})})]},t)})):(0,v.jsx)("tr",{children:(0,v.jsx)("td",{children:"No data available"})}):(0,v.jsx)("tr",{children:(0,v.jsx)("td",{children:"Loading..."})})})]})})]})})})})]})}},6016:function(e){e.exports=function(){"use strict";var e={CUSTOMFILE:'.custom-file input[type="file"]',CUSTOMFILELABEL:".custom-file-label",FORM:"form",INPUT:"input"},t=3,r=function(t){var r="",n=t.parentNode.querySelector(e.CUSTOMFILELABEL);return n&&(r=n.textContent),r},n=function(e){if(e.childNodes.length>0)for(var r=[].slice.call(e.childNodes),n=0;n<r.length;n++){var l=r[n];if(l.nodeType!==t)return l}return e},l=function(t){var r=t.bsCustomFileInput.defaultText,l=t.parentNode.querySelector(e.CUSTOMFILELABEL);l&&(n(l).textContent=r)},a=!!window.File,s="fakepath",i="\\",c=function(e){if(e.hasAttribute("multiple")&&a)return[].slice.call(e.files).map((function(e){return e.name})).join(", ");if(-1!==e.value.indexOf(s)){var t=e.value.split(i);return t[t.length-1]}return e.value};function o(){var t=this.parentNode.querySelector(e.CUSTOMFILELABEL);if(t){var r=n(t),a=c(this);a.length?r.textContent=a:l(this)}}function d(){for(var t=[].slice.call(this.querySelectorAll(e.INPUT)).filter((function(e){return!!e.bsCustomFileInput})),r=0,n=t.length;r<n;r++)l(t[r])}var u="bsCustomFileInput",h={FORMRESET:"reset",INPUTCHANGE:"change"};return{init:function(t,n){void 0===t&&(t=e.CUSTOMFILE),void 0===n&&(n=e.FORM);for(var l=[].slice.call(document.querySelectorAll(t)),a=[].slice.call(document.querySelectorAll(n)),s=0,i=l.length;s<i;s++){var c=l[s];Object.defineProperty(c,u,{value:{defaultText:r(c)},writable:!0}),o.call(c),c.addEventListener(h.INPUTCHANGE,o)}for(var m=0,f=a.length;m<f;m++)a[m].addEventListener(h.FORMRESET,d),Object.defineProperty(a[m],u,{value:!0,writable:!0})},destroy:function(){for(var t=[].slice.call(document.querySelectorAll(e.FORM)).filter((function(e){return!!e.bsCustomFileInput})),r=[].slice.call(document.querySelectorAll(e.INPUT)).filter((function(e){return!!e.bsCustomFileInput})),n=0,a=r.length;n<a;n++){var s=r[n];l(s),s[u]=void 0,s.removeEventListener(h.INPUTCHANGE,o)}for(var i=0,c=t.length;i<c;i++)t[i].removeEventListener(h.FORMRESET,d),t[i][u]=void 0}}}()}}]);
//# sourceMappingURL=3174.80a422b5.chunk.js.map