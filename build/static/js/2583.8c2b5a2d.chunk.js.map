{"version":3,"file":"static/js/2583.8c2b5a2d.chunk.js","mappings":"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","sources":["app/brands/Delete.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport { ProgressBar } from 'react-bootstrap';\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport { Link } from 'react-router-dom';\r\nimport {postData, url,setDeals,setBrands} from '../../action'\r\n\r\nconst Delete = () => {\r\n  const brands=useSelector(state => state.brands)\r\n  const [TotalPage,setTotalPage]= React.useState([])\r\n  const [Page,setPage]= React.useState(1)\r\n  const [Data, setData]= React.useState(null)\r\n\r\n  React.useEffect(() => {\r\n    if(brands){\r\n      let arr=[]\r\n      brands.forEach((doc,i) => {\r\n        if(i<(Page*10) && i>=((Page*10)-10)){\r\n          arr.push(doc)\r\n        }\r\n      })\r\n      setData(arr)\r\n \r\n      let number=(brands.length/10)\r\n      let floatNumber=parseInt(number)\r\n      let numPage=[]\r\n      for(let i=0;i<floatNumber;i++){\r\n        numPage.push(floatNumber)\r\n      }\r\n      if(number>floatNumber){\r\n          numPage.push(floatNumber)\r\n          setTotalPage(numPage)\r\n      }else{\r\n          setTotalPage(floatNumber)\r\n      }\r\n    }\r\n  },[Page+brands])\r\n    return (\r\n        <div>\r\n          <div className=\"page-header\">\r\n            <h3 className=\"page-title\"> Brand List </h3>\r\n            <nav aria-label=\"breadcrumb\">\r\n              <ol className=\"breadcrumb\">\r\n                <li className=\"breadcrumb-item\"><a href=\"!#\" onClick={event => event.preventDefault()}>Brands</a></li>\r\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">All</li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n          <div className=\"row\">\r\n          <div className=\"col-lg-12 grid-margin stretch-card\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <h4 className=\"card-title\">All Data</h4>\r\n                <div className=\"table-responsive\">\r\n                  <table className=\"table table-striped\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th> Logo </th>\r\n                        <th> Name </th>\r\n                        <th> Action </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {\r\n                      Data?(\r\n                        Data.map((doc, i)=>(\r\n                          <List key={i} data={doc}/>\r\n                        ))\r\n                      ):(<></>)\r\n                    }\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          { TotalPage.length>0?(\r\n                    <nav>\r\n                <ul className=\"pagination\">\r\n                <li className=\"page-item\"><button onClick={() =>{\r\n                    if(Page>1){\r\n                        setPage(Page-1)\r\n                    }\r\n                }} className=\"page-link\">Previous</button></li>\r\n                {\r\n                 TotalPage.map((doc, i) =>(\r\n                  <li key={i} className={Page==(i+1)?\"page-item active\":\"page-item\"}><button onClick={()=>{\r\n                      setPage(i+1)\r\n                  }} className=\"page-link\">{i+1}</button></li>\r\n                 ))\r\n                }\r\n                <li className=\"page-item\"><button onClick={() =>{\r\n                    if(Page<TotalPage.length){\r\n                        setPage(Page+1);\r\n                    }\r\n                }} className=\"page-link\">Next</button></li>\r\n                </ul>\r\n               </nav>\r\n                ):(\r\n                    <></>\r\n                )}\r\n          </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Delete;\r\n\r\nconst List = (props)=>{\r\n  const data = props.data;\r\n  const [Read,setRead]= React.useState(false)\r\n  const dispatch = useDispatch()\r\n\r\n  const deleteHotel=(id) => {\r\n    postData(url + '/deleteData',{\r\n      tableName:'brands',\r\n      condition:'id='+ id\r\n    }).then((doc) => {\r\n      console.log(doc)\r\n      postData(url + '/deleteData',{\r\n        tableName: 'deals',\r\n        condition:'brand_id='+ id\r\n      }).then((doc) => {\r\n        console.log(doc)\r\n      })\r\n      postData(url + '/deleteData',{\r\n        tableName: 'banner',\r\n        condition:'brand_id='+ id\r\n      }).then((doc) => {\r\n        console.log(doc)\r\n      })\r\n      postData(url + '/deleteData',{\r\n        tableName: 'restaurant',\r\n        condition:'brand_id='+ id\r\n      }).then((doc) => {\r\n        console.log(doc)\r\n      })\r\n      postData(url + '/deleteData',{\r\n        tableName: 'slider',\r\n        condition:'brand_id='+ id\r\n      }).then((doc) => {\r\n        console.log(doc)\r\n      })\r\n      postData(url + '/getData',{\r\n        tableName: 'brands',\r\n      }).then((doc) =>{\r\n        if(Array.isArray(doc)){\r\n          dispatch(setBrands(doc))\r\n        }\r\n      })\r\n    })\r\n    postData(url + '/deleteData',{\r\n      tableName:'deals',\r\n      condition:'brand_id='+ id\r\n    }).then((doc) => {\r\n      console.log(doc)\r\n      postData(url + '/getData',{\r\n        tableName: 'deals',\r\n        orderColumn: 'date'\r\n      }).then((doc) =>{\r\n        if(Array.isArray(doc)){\r\n          dispatch(setDeals(doc))\r\n        }\r\n      })\r\n    })\r\n    \r\n  }\r\n  return(\r\n    <tr>\r\n      <td className=\"py-1\">\r\n      <img src={data.image} alt=\"user icon\" />\r\n    </td>\r\n    <td> {data.name}</td>\r\n\r\n  {\r\n      !Read?(\r\n        <td>\r\n        <button onClick={() =>{\r\n          deleteHotel(data.id)\r\n          //setRead(true);\r\n        }} \r\n          className='btn btn-gradient-danger btn-rounded btn-fw'>Delete</button>\r\n          <Link style={{marginLeft:'5px'}} to={'/brands/update/'+data.id}\r\n          className='btn btn-gradient-danger btn-rounded btn-fw'>Update</Link>\r\n          </td>\r\n      ):(\r\n        <></>\r\n      )\r\n    }\r\n  \r\n </tr>\r\n  )\r\n}\r\n"],"names":["brands","useSelector","state","React","TotalPage","setTotalPage","Page","setPage","Data","setData","arr","forEach","doc","i","push","number","length","floatNumber","parseInt","numPage","className","href","onClick","event","preventDefault","map","List","data","props","Read","dispatch","useDispatch","src","image","alt","name","id","postData","url","tableName","condition","then","console","log","Array","isArray","setBrands","orderColumn","setDeals","style","marginLeft","to"],"sourceRoot":""}