/*! For license information please see 4308.ae9c2275.chunk.js.LICENSE.txt */
(self.webpackChunkpurple_react_free=self.webpackChunkpurple_react_free||[]).push([[4308],{4308:function(e,t,r){"use strict";r.r(t);var l=r(885),n=r(2791),a=r(4912),s=(r(6016),r(8687)),c=(r(4569),r(2930)),i=r(7266),o=r(3108),d=r(184);t.default=function(){var e=n.useState(),t=(0,l.Z)(e,2),r=t[0],u=t[1],h=n.useState(),m=(0,l.Z)(h,2),f=m[0],x=m[1],v=n.useState(),j=(0,l.Z)(v,2),p=j[0],N=j[1],b=n.useState(),g=(0,l.Z)(b,2),C=g[0],S=g[1],y=n.useState(!1),E=(0,l.Z)(y,2),A=E[0],T=E[1],F=n.useState(null),I=(0,l.Z)(F,2),L=I[0],O=I[1],Z=(0,i.v0)(o.Z),w=n.useState(),U=(0,l.Z)(w,2),q=(U[0],U[1],n.useState(!1)),M=(0,l.Z)(q,2),R=(M[0],M[1],(0,s.v9)((function(e){return e.brands})),n.useState()),k=(0,l.Z)(R,2),P=k[0],_=k[1];n.useEffect((function(){(0,c.qC)(c.HQ+"/getData",{tableName:"cuppon_code"}).then((function(e){Array.isArray(e)&&O(e)}))}),[A]),n.useEffect((function(){(0,c.qC)(c.HQ+"/getData",{tableName:"cuppon_user"}).then((function(e){if(Array.isArray(e)&&e.length>0)return _(e);console.log(e)}))}),[]);return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"page-header",children:[(0,d.jsx)("h3",{className:"page-title",children:" Coupon Codes "}),(0,d.jsx)("nav",{"aria-label":"breadcrumb",children:(0,d.jsxs)("ol",{className:"breadcrumb",children:[(0,d.jsx)("li",{className:"breadcrumb-item",children:(0,d.jsx)("a",{href:"!#",onClick:function(e){return e.preventDefault()},children:"All"})}),(0,d.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Coupons"})]})})]}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-12 grid-margin",children:(0,d.jsx)("div",{className:"card",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h4",{className:"card-title",children:"Information"}),(0,d.jsxs)("form",{className:"form-sample",children:[(0,d.jsx)("p",{className:"card-description",children:" Add coupon code for give extra bonus. "}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)(a.Z.Group,{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-3 col-form-label",children:"Title of the code"}),(0,d.jsx)("div",{className:"col-sm-9",children:(0,d.jsx)(a.Z.Control,{placeholder:"eg. You receive 20% discount",onChange:function(e){return u(e.target.value)},type:"text"})})]})}),(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)(a.Z.Group,{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-3 col-form-label",children:"Code"}),(0,d.jsx)("div",{className:"col-sm-9",children:(0,d.jsx)(a.Z.Control,{onChange:function(e){return x(e.target.value)},placeholder:"eg. XKLSCT",type:"text"})})]})})]}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)(a.Z.Group,{className:"row",children:[(0,d.jsx)("label",{className:"col-sm-3 col-form-label",children:"Offer in %"}),(0,d.jsx)("div",{className:"col-sm-9",children:(0,d.jsx)(a.Z.Control,{onChange:function(e){N(e.target.value),console.log(e.target.value)},placeholder:"eg. 20",type:"number"})})]})})}),C?(0,d.jsx)("div",{className:"alert alert-primary",role:"alert",children:C}):(0,d.jsx)(d.Fragment,{})]}),(0,d.jsx)("button",{onClick:function(){p&&f&&r?p<0||p>99?S("Offer percentage can be 0 to 99"):(0,c.qC)(c.HQ+"/setData",{auth:Z.currentUser,tableName:"cuppon_code",columns:["name","code","offer"],values:[r,f,p]}).then((function(e){console.log(e),e.insertId?(S("Code is added successfully"),T(!A)):S(e.message)})):S("Field are can not be empty")},className:"btn btn-gradient-secondary btn-rounded btn-fw",children:"SAVE"})]})})})}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:(0,d.jsx)("div",{className:"card",children:(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsx)("h4",{className:"card-title",children:"Information"}),(0,d.jsx)("div",{className:"table-responsive",children:(0,d.jsxs)("table",{className:"table table-striped",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:" Name "}),(0,d.jsx)("th",{children:" Offer in % "}),(0,d.jsx)("th",{children:" Code "}),(0,d.jsx)("th",{children:"Total User"}),(0,d.jsx)("th",{children:"Action"})]})}),(0,d.jsx)("tbody",{children:L?L.length>0?L.map((function(e,t){return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:e.name}),(0,d.jsx)("td",{children:e.offer}),(0,d.jsx)("td",{children:e.code}),(0,d.jsx)("td",{children:P?P.filter((function(t){return t.code==e.code})).length:"0"}),(0,d.jsx)("td",{children:(0,d.jsx)("button",{className:"btn btn-gradient-danger btn-rounded btn-fw",onClick:function(){var t;t=e.id,(0,c.qC)(c.HQ+"/deleteData",{tableName:"cuppon_code",condition:"id="+t}).then((function(e){console.log(e),T(!A)}))},children:"Delete"})})]},t)})):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{children:"No data available"})}):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{children:"Loading..."})})})]})})]})})})})]})}},6016:function(e){e.exports=function(){"use strict";var e={CUSTOMFILE:'.custom-file input[type="file"]',CUSTOMFILELABEL:".custom-file-label",FORM:"form",INPUT:"input"},t=3,r=function(t){var r="",l=t.parentNode.querySelector(e.CUSTOMFILELABEL);return l&&(r=l.textContent),r},l=function(e){if(e.childNodes.length>0)for(var r=[].slice.call(e.childNodes),l=0;l<r.length;l++){var n=r[l];if(n.nodeType!==t)return n}return e},n=function(t){var r=t.bsCustomFileInput.defaultText,n=t.parentNode.querySelector(e.CUSTOMFILELABEL);n&&(l(n).textContent=r)},a=!!window.File,s="fakepath",c="\\",i=function(e){if(e.hasAttribute("multiple")&&a)return[].slice.call(e.files).map((function(e){return e.name})).join(", ");if(-1!==e.value.indexOf(s)){var t=e.value.split(c);return t[t.length-1]}return e.value};function o(){var t=this.parentNode.querySelector(e.CUSTOMFILELABEL);if(t){var r=l(t),a=i(this);a.length?r.textContent=a:n(this)}}function d(){for(var t=[].slice.call(this.querySelectorAll(e.INPUT)).filter((function(e){return!!e.bsCustomFileInput})),r=0,l=t.length;r<l;r++)n(t[r])}var u="bsCustomFileInput",h={FORMRESET:"reset",INPUTCHANGE:"change"};return{init:function(t,l){void 0===t&&(t=e.CUSTOMFILE),void 0===l&&(l=e.FORM);for(var n=[].slice.call(document.querySelectorAll(t)),a=[].slice.call(document.querySelectorAll(l)),s=0,c=n.length;s<c;s++){var i=n[s];Object.defineProperty(i,u,{value:{defaultText:r(i)},writable:!0}),o.call(i),i.addEventListener(h.INPUTCHANGE,o)}for(var m=0,f=a.length;m<f;m++)a[m].addEventListener(h.FORMRESET,d),Object.defineProperty(a[m],u,{value:!0,writable:!0})},destroy:function(){for(var t=[].slice.call(document.querySelectorAll(e.FORM)).filter((function(e){return!!e.bsCustomFileInput})),r=[].slice.call(document.querySelectorAll(e.INPUT)).filter((function(e){return!!e.bsCustomFileInput})),l=0,a=r.length;l<a;l++){var s=r[l];n(s),s[u]=void 0,s.removeEventListener(h.INPUTCHANGE,o)}for(var c=0,i=t.length;c<i;c++)t[c].removeEventListener(h.FORMRESET,d),t[c][u]=void 0}}}()}}]);
//# sourceMappingURL=4308.ae9c2275.chunk.js.map