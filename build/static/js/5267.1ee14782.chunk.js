"use strict";(self.webpackChunkpurple_react_free=self.webpackChunkpurple_react_free||[]).push([[5267],{5267:function(e,a,n){n.r(a);var s=n(885),r=n(2791),t=n(8687),l=n(2930),i=n(1523),c=n(184);a.default=function(){(0,t.v9)((function(e){return e.deals}));var e=r.useState([]),a=(0,s.Z)(e,2),n=a[0],i=a[1],o=r.useState(1),h=(0,s.Z)(o,2),u=h[0],m=h[1],x=r.useState(null),j=(0,s.Z)(x,2),p=j[0],b=j[1],g=r.useState(null),f=(0,s.Z)(g,2),N=f[0],v=f[1];return r.useEffect((function(){(0,l.qC)(l.HQ+"/getData",{tableName:"deals",condition:N?"brand LIKE '%".concat(N,"%'"):""}).then((function(e){if(Array.isArray(e)){var a=[];e.forEach((function(e,n){n<10*u&&n>=10*u-10&&a.push(e)})),b(a);for(var n=e.length/10,s=parseInt(n),r=[],t=0;t<s;t++)r.push(s);n>s?(r.push(s),i(r)):i(r)}}))}),[u+N]),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"page-header",children:[(0,c.jsx)("h3",{className:"page-title",children:" Delete deals "}),(0,c.jsx)("nav",{"aria-label":"breadcrumb",children:(0,c.jsxs)("ol",{className:"breadcrumb",children:[(0,c.jsx)("li",{className:"breadcrumb-item",children:(0,c.jsx)("a",{href:"#",onClick:function(e){return e.preventDefault()},children:"Deals"})}),(0,c.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Delete"})]})})]}),(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:(0,c.jsx)("div",{className:"card",children:(0,c.jsx)("div",{className:"card-body",children:(0,c.jsx)("form",{className:"d-flex align-items-center h-100",action:"#",children:(0,c.jsxs)("div",{className:"input-group",children:[(0,c.jsx)("div",{className:"input-group-prepend bg-transparent",children:(0,c.jsx)("i",{className:"input-group-text border-0 mdi mdi-magnify"})}),(0,c.jsx)("input",{onChange:function(e){v(e.target.value)},type:"text",className:"form-control bg-transparent border-0",placeholder:"Search by brands"})]})})})})})}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:(0,c.jsx)("div",{className:"card",children:(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsx)("h4",{className:"card-title",children:"Information"}),(0,c.jsx)("div",{className:"table-responsive",children:(0,c.jsxs)("table",{className:"table table-striped",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:" Name "}),(0,c.jsx)("th",{children:"Brand Name"}),(0,c.jsx)("th",{children:" Price "}),(0,c.jsx)("th",{children:" Discount "}),(0,c.jsx)("th",{children:"Action "})]})}),(0,c.jsx)("tbody",{children:p?p.map((function(e,a){return(0,c.jsx)(d,{doc:e},a)})):(0,c.jsx)("tr",{})})]})})]})})}),n.length>0?(0,c.jsx)("nav",{style:{width:"100%",overflow:"scroll"},areaLabel:"Page navigation example",children:(0,c.jsxs)("ul",{className:"pagination",children:[(0,c.jsx)("li",{className:"page-item",children:(0,c.jsx)("button",{onClick:function(){u>1&&m(u-1)},className:"page-link",children:"Previous"})}),n.map((function(e,a){return(0,c.jsx)("li",{className:u==a+1?"page-item active":"page-item",children:(0,c.jsx)("button",{onClick:function(){m(a+1)},className:"page-link",children:a+1})},a)})),(0,c.jsx)("li",{className:"page-item",children:(0,c.jsx)("button",{onClick:function(){u<n.length&&m(u+1)},className:"page-link",children:"Next"})})]})}):(0,c.jsx)(c.Fragment,{})]})]})};var d=function(e){var a=r.useState(!1),n=(0,s.Z)(a,2),d=n[0],o=(n[1],e.doc),h=(0,t.I0)();return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:o.name}),(0,c.jsx)("td",{children:o.brand}),(0,c.jsx)("td",{children:o.price}),(0,c.jsx)("td",{children:o.discount}),d?(0,c.jsx)("td",{}):(0,c.jsxs)("td",{children:[(0,c.jsx)("button",{onClick:function(){var e;e=o.id,(0,l.qC)(l.HQ+"/deleteData",{tableName:"deals",condition:"id="+e}).then((function(e){console.log(e),(0,l.qC)(l.HQ+"/getData",{tableName:"deals",orderColumn:"date"}).then((function(e){Array.isArray(e)&&h((0,l.ry)(e))}))}))},className:"btn btn-gradient-danger btn-rounded btn-fw",children:"Delete"}),(0,c.jsx)(i.rU,{to:"/deals/update/"+o.id,style:{marginLeft:"5px"},onClick:function(){},className:"btn btn-gradient-danger btn-rounded btn-fw",children:"Update"})]})]})}}}]);
//# sourceMappingURL=5267.1ee14782.chunk.js.map