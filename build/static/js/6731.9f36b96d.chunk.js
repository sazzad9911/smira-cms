"use strict";(self.webpackChunkpurple_react_free=self.webpackChunkpurple_react_free||[]).push([[6731],{6731:function(e,s,a){a.r(s);var l=a(885),r=a(2791),c=a(4912),n=(a(6016),a(2930)),i=a(3108),t=a(7266),d=a(8687),o=(a(4569),a(6167)),m=a(184);s.default=function(){var e=r.useState(null),s=(0,l.Z)(e,2),a=(s[0],s[1]),u=r.useState(!1),h=(0,l.Z)(u,2),x=h[0],j=h[1],f=((0,d.v9)((function(e){return e.banner})),(0,t.v0)(i.Z),r.useState()),N=(0,l.Z)(f,2),v=N[0],g=N[1],p=r.useState(),b=(0,l.Z)(p,2),S=(b[0],b[1],r.useState()),Z=(0,l.Z)(S,2),y=(Z[0],Z[1],r.useState()),w=(0,l.Z)(y,2),C=(w[0],w[1],r.useState()),k=(0,l.Z)(C,2),E=(k[0],k[1],r.useState()),J=(0,l.Z)(E,2),M=J[0],O=J[1],_=r.useState(),q=(0,l.Z)(_,2),D=q[0],G=q[1],A=((0,d.v9)((function(e){return e.brands})),r.useState(!1)),B=(0,l.Z)(A,2),F=(B[0],B[1],r.useState()),H=(0,l.Z)(F,2),Q=(H[0],H[1],r.useState()),U=(0,l.Z)(Q,2),I=U[0],L=U[1],P=r.useState([]),T=(0,l.Z)(P,2),W=T[0],z=T[1];r.useEffect((function(){(0,n.qC)(n.HQ+"/getData",{tableName:"user"}).then((function(e){if(Array.isArray(e)){var s=[],l=0;return e.forEach((function(e,a){e.token&&l<500&&(s.push({label:e.name,value:e.uid}),l++)})),L(s),a(e)}console.log(e.message)}))}),[]);return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"page-header",children:[(0,m.jsx)("h3",{className:"page-title",children:" Send Message "}),(0,m.jsx)("nav",{"aria-label":"breadcrumb",children:(0,m.jsxs)("ol",{className:"breadcrumb",children:[(0,m.jsx)("li",{className:"breadcrumb-item",children:(0,m.jsx)("a",{href:"!#",onClick:function(e){return e.preventDefault()},children:"Message"})}),(0,m.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Send"})]})})]}),(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-12 grid-margin",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("div",{className:"card-body",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("div",{className:"card-body",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-12 grid-margin",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("h4",{className:"card-title",children:"Information"}),(0,m.jsxs)("form",{className:"form-sample",children:[(0,m.jsx)("p",{className:"card-description",children:" Send notification to single user "}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)(c.Z.Group,{className:"row",children:[(0,m.jsx)("label",{className:"col-sm-3 col-form-label",children:"Title*"}),(0,m.jsx)("div",{className:"col-sm-9",children:(0,m.jsx)(c.Z.Control,{placeholder:"title of the banner",onChange:function(e){return G(e.target.value)},type:"text"})})]})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)(c.Z.Group,{className:"row",children:[(0,m.jsx)("label",{className:"col-sm-3 col-form-label",children:"Body*"}),(0,m.jsx)("div",{className:"col-sm-9",children:(0,m.jsx)(c.Z.Control,{onChange:function(e){return O(e.target.value)},placeholder:"optional",type:"text"})})]})})]}),(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)(c.Z.Group,{className:"row",children:[(0,m.jsx)("label",{className:"col-sm-3 col-form-label",children:"Select Users"}),(0,m.jsxs)("div",{className:"col-sm-9",children:[(0,m.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:JSON.parse(JSON.stringify(W)).map((function(e,s){return(0,m.jsx)("p",{style:{margin:"5px"},children:e.label},s)}))}),I&&I.length>0?(0,m.jsx)(o.NU,{options:I,value:W,onChange:function(e){z(e)},labelledBy:"Select"}):(0,m.jsx)(m.Fragment,{children:"Loading.."})]})]})})}),v?(0,m.jsx)("div",{className:"alert alert-primary",role:"alert",children:v}):(0,m.jsx)(m.Fragment,{})]}),(0,m.jsx)("button",{onClick:function(){g("");var e=JSON.parse(JSON.stringify(W));if(D&&M&&0!=e.length){var s=[];e.forEach((function(e,a){s.push(e.value)})),(0,n.qC)(n.HQ+"/sendMessages",{title:D,body:M,uid:s}).then((function(e){console.log(e),e.success?(g("Message has send"),j(!x)):g(e.message)})).catch((function(e){console.log(e.message)}))}else g("Please fill all the required fields")},className:"btn btn-gradient-secondary btn-rounded btn-fw",children:"SEND"})]})})})})})})})})})})})})]})}}}]);
//# sourceMappingURL=6731.9f36b96d.chunk.js.map